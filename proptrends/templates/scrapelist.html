{% extends "layout.html" %}
	{% block content %}
	<!-- Include jQuery -->
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

	<!-- Include select2 -->
	<link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
	<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>


	<section>
		<div class="container gridjs-wrapper pt-3 pb-3">
			<link href="https://unpkg.com/gridjs/dist/theme/mermaid.min.css" rel="stylesheet" />
			<div>
				<div class="container">
					<h1>Properties in Wellington</h1>

					<div class="row pb-2">
						<div class="col">
							
							<h5>Average per square meter price for all properties shown:</h5>
							<p>(Excludes properties which do not have either Asking Price or Area value)</p>
							<h3 id="avg-listing-price-psqm">
								{{ avg_listing_price_psqm }}
							</h3>
						</div>
					</div>
					<div class="row">
					  
					  <div class="col">
						<select id="suburbSelect" multiple="multiple" style="width: 100%">
							{% for suburb in all_suburbs %}
								<option value="{{ suburb.suburb_name }}">{{ suburb.suburb_name }}</option>
							{% endfor %}
						</select>
					  </div>
					  <div class="col">
						<select id="proptypeSelect" multiple="multiple" style="width: 100%">
							{% for prop in all_props %}
								<option value="{{ prop.type }}">{{ prop.type }}</option>
							{% endfor %}
						</select>
					  </div>
					  <div class="col">
						
					  </div>
					</div>
					
				  </div>
				  <div class="container pt-3 table-container">
					<div id="table"></div>
				  </div>
				
                

				
			  </div>

		</div>
	</section>
	<script>
		const listingsData = {{ listings | tojson | safe }};
		console.log("The listings data is :", listingsData)
	</script>
	<script type="module" src="/static/myscripts.js">
		
	</script>

{% endblock content %}